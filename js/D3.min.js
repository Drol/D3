var app=angular.module("diablo3App",[]);app.config(function(n){n.when("/heroes",{templateUrl:"partials/heroList.html",controller:"ProfileController"}).when("/hero/:heroId",{templateUrl:"partials/heroDetail.html",controller:"HeroDetailController"}).when("/gemcalc",{templateUrl:"partials/gemCalc.html",controller:"GemCalcController"}).otherwise({redirectTo:"/heroes"})}),app.factory("factory",function(n,t,i){var u="http://eu.battle.net/api/d3/",f="?callback=JSON_CALLBACK&name=profiles",r={},e=i("d3Factory");return r.getProfile=function(t){var i=e.get(t),r;return i||(r=u+"profile/"+t+"/"+f,i=n.jsonp(r),e.put(t,i)),i},r.getHero=function(t,i){var r=u+"profile/"+t+"/hero/"+i+"/"+f;return n.jsonp(r)},r.getArtisan=function(t){var i=u+"data/artisan/"+t+f;return n.jsonp(i)},r}),app.controller("NavbarController",function(n,t){n.getClass=function(n){return t.path().substr(0,n.length)===n?!0:!1}}),app.controller("D3Controller",function(){var n=Bnet.D3.Tooltips;n.registerDataOld=n.registerData,n.registerData=function(n){var i=document.body.children,t=i[i.length-1].src;n.params.key=t.substr(0,t.indexOf("?")).substr(t.lastIndexOf("/")+1),this.registerDataOld(n)}}),app.controller("ProfileController",function(n,t){n.profileId="Drol-1245",n.fetch=function(){t.getProfile(n.profileId).then(function(t){n.profile=t.data})}}),app.controller("HeroDetailController",function(n,t){n.heroId=t.heroId}),app.controller("GemCalcController",function(n,t,i){n.gems=[],i.getArtisan("jeweler").then(function(t){n.jewelerData=t.data,n.gems=[],saveGem=function(t){~t.name.indexOf("Amethyst")&&(t.name=t.name.replace(/ Amethyst/gi,""),t.name===""&&(t.name="Normal"),n.gems.push(t))},angular.forEach(t.data.training.tiers,function(n){angular.forEach(n.levels[0].trainedRecipes,function(n){saveGem(n)}),angular.forEach(n.levels[0].taughtRecipes,function(n){saveGem(n)})}),n.input.startGem=n.gems[6],n.input.targetGem=n.gems[13]}),n.input={},n.$watch("input",function(){n.res.gems.amount=34},!0),n.res={gems:{amount:0,cost:0,total:0}}});
//@ sourceMappingURL=D3.min.js.map